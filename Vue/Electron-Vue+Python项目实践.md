# Electron-Vue + Python 桌面应用实践

## 需求与设计背景

对接部门内的某个产品A，为客户提供一个配套的桌面应用小工具B。主要要求概括如下：

* 工具B主要用于作为测试工具，对产品内部的数据进行校验，减少因为版本迭代而产生的非易现bug；

* 通过调用产品A提供的服务接口，获取工具B所需的数据；

* 工具B本身需要使用python的一些金融算法库，对通过产品A接口获取到的数据进行处理；

* 工具B需要提供一个可视化界面的版本与一个命令行执行版本；

* 客户本地无任何开发环境，也不可安装配置开发环境，如python开发环境；

* 最终输出为一个可安装的桌面可执行程序。

## 架构设想

对需求进行分析后，结合技术可行性与人员配置，时间安排等方面的问题，工具B整体架构设计如下。

![framework](./image/framework.jpg)

* 工具B整体分为客户端与服务端两个部分，最终成型为一个可执行exe文件；

* 为了提高前端界面交互的美观度、自由度，同时也考虑到人员配置的可行性，客户端部分采用``electron``框架，前端通过``Vue``进行开发。并通过``Electron-builder``进行打包，输出可执行文件；

* 服务端部分通过``python``打包库``pyinstaller``打包形成可执行文件，服务端打包生成的exe文件本身可以单独运行，通过命令行进行交互。后端框架以及涉及到的其他python库需要后端开发进行后续敲定；

* 服务端可执行文件通过``Electron-builder``的``extraResources``配置成为一个静态文件打包入整个客户端可执行文件。所谓的静态文件，即在打包完成后，可以直接在工具B根目录下的``extraResources``中访问服务端可执行程序(可行性待验证)；

* 服务端与客户端整合生成的可执行文件运行后，``Electron``通过``nodejs``创建本地的``web server``，同时通过``nodejs``的``execFile()``启动打包至根目录下的服务端程序，与前端的本地server建立通信后，即可通过客户端界面进行交互。

## 技术可行性分析